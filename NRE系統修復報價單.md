# NRE 成本管理系統 — 問題修復評估與報價

**報價日期**: 2026 年 2 月 6 日
**報價編號**: QT-20260206-001
**報價有效期限**: 本報價自發出日起 30 日內有效

---

## 一、系統現況說明

目前使用之 NRE 成本管理系統，近期出現以下三項功能異常，影響日常作業流程。經詳細檢視系統程式碼後，以下為各問題之診斷結果與修復方案。

---

## 二、問題診斷

### 問題 1｜新專案建立失敗（A31 無法建立，A26 正常）

**現象描述**:
- 建立新專案時選擇 A31，按下 Done 後系統報錯，專案無法開啟
- 選擇 A26 則可正常建立與開啟

**診斷結果**:
後端資料庫在建立測試項目時，查詢條件與資料表的唯一性約束不一致。A31 的客戶設定中，同一測試項目存在多個實驗室位置（Lab Location），導致寫入時發生資料衝突錯誤。A26 因每個測試項目僅對應單一實驗室位置，故不受影響。

**修復內容**:
- 修正後端資料寫入邏輯，使查詢條件與唯一約束一致
- 加入錯誤處理機制，避免系統錯
- 發生異常時回傳明確的錯誤提示訊息

---

### 問題 2｜User Input → Equipment 資料未帶入

**現象描述**:
- 切換至 Equipment 頁籤時，設備時數、Chamber 等欄位顯示為空白
- 使用者填入的測試資料未正確反映至設備計算結果

**診斷結果**:
前端在載入專案資料後，未觸發設備相關的計算流程，導致所有衍生欄位（設備時數、Chamber 數量、費用小計等）皆為空值。頁面切換時的畫面更新機制需調整，否則即使計算完成，畫面仍可能無法正確顯示最新結果。

**修復內容**:
- 資料載入完成後自動觸發設備計算
- 修正頁面切換時的畫面更新機制
- 加入資料載入順序控制，確保基礎資料（Chamber 清單）就緒後再執行計算

---

### 問題 3｜User Input 無法儲存 / 下載報表失敗

**現象描述**:
- User Input 填寫後按 Save 無反應或儲存失敗
- 按 Download 時跳出錯誤訊息，無法匯出 Excel

**診斷結果**:

*儲存問題*：當部分欄位（如 PL Duration、Duty Rate）尚未填寫時，系統將空值進行數學運算產生無效數值（NaN），傳送至後端後驗證失敗。

*下載問題*：Excel 匯出過程中，計算函式遇到未載入的資料時直會發生錯誤。

**修復內容**:
- 所有數值欄位加入空值防護，未填寫時以預設值（0）帶入
- PL 工時計算加入完整性檢查
- Excel 匯出流程加入錯誤處理與使用者提示
- 後端 API 加入資料驗證與錯誤回傳機制

---

## 三、修復工作範圍

| 工作項目 | 說明 |
|----------|------|
| 程式碼分析與問題定位 | 閱讀理解前後端架構與商業邏輯 |
| 問題 1 修復 | 後端資料寫入邏輯修正 + 錯誤處理 |
| 問題 2 修復 | 前端計算流程修正 + 畫面更新機制修正 |
| 問題 3 修復 | 前後端空值防護 + Excel 匯出修正 |
| 測試與驗證 | A31/A26 專案建立測試、Equipment 資料驗證、儲存/下載功能驗證 |
| 交付與說明 | 提供修改內容說明，協助部署上線 |

---

## 四、報價

| 項目 | 金額 |
|------|------|
| 問題診斷與修復（含上述三項問題） | NT$ 18,000 |
| **合計（未稅）** | **NT$ 18,000** |

### 付款方式

| 階段 | 比例 | 金額 | 時機 |
|------|------|------|------|
| 訂金 | 50% | NT$ 9,000 | 確認委託時 |
| 尾款 | 50% | NT$ 9,000 | 驗收完成後 |

---

## 五、工作時程

| 階段 | 預估天數 | 說明 |
|------|----------|------|
| 環境建置與修復開發 | 2-3 工作天 | 修復三項問題並進行內部測試 |
| 客戶驗收 | 1-2 工作天 | 協助部署至測試環境，由貴司確認功能正常 |
| **預估總交期** | **3-5 工作天** | 自確認委託起算 |

---

## 六、服務範圍與保固

### 本次服務包含
- 上述三項問題之程式碼修復
- 修復範圍內的功能測試與驗證
- 修改內容說明文件
- 協助部署至正式環境（一次）

### 本次服務不包含
- 新功能開發
- 系統架構調整或升級（如 Angular 版本升級）
- 非上述三項問題之其他 Bug 修復
- 伺服器環境設定或維運

### 保固條款
- 交付驗收後提供 **14 天保固期**
- 保固範圍僅限本次修復之三項問題
- 保固期內若相同問題復發，免費修復

---

## 七、注意事項

1. 修復過程中若發現其他潛在問題，將主動告知並另行評估
2. 如需修改需求範圍，雙方協商後調整報價與工期
3. 需貴司提供系統原始碼存取權限及測試環境

---

**聯絡方式**: 
**統一編號**: 

---

*感謝您的信任，期待為貴司提供優質的技術服務。*
