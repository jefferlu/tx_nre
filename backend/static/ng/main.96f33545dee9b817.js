"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{2085:(v,f,o)=>{o.d(f,{n:()=>M});var u=o(1692),l=o(7579),e=o(2722),r=o(2223),s=o(646),p=o(4755),i=o(7081);function h(S,_){if(1&S&&(r.ynx(0),r._UZ(1,"mat-progress-bar",1),r.BQk()),2&S){const d=r.oxw();r.xp6(1),r.Q6J("mode",d.mode)("value",d.progress)}}let M=(()=>{class S{constructor(d){this._fuseLoadingService=d,this.autoMode=!0,this.progress=0,this.show=!1,this._unsubscribeAll=new l.x}ngOnChanges(d){"autoMode"in d&&this._fuseLoadingService.setAutoMode((0,u.Ig)(d.autoMode.currentValue))}ngOnInit(){this._fuseLoadingService.mode$.pipe((0,e.R)(this._unsubscribeAll)).subscribe(d=>{this.mode=d}),this._fuseLoadingService.progress$.pipe((0,e.R)(this._unsubscribeAll)).subscribe(d=>{this.progress=d}),this._fuseLoadingService.show$.pipe((0,e.R)(this._unsubscribeAll)).subscribe(d=>{this.show=d})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return S.\u0275fac=function(d){return new(d||S)(r.Y36(s.c))},S.\u0275cmp=r.Xpm({type:S,selectors:[["fuse-loading-bar"]],inputs:{autoMode:"autoMode"},exportAs:["fuseLoadingBar"],features:[r.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"mode","value"]],template:function(d,I){1&d&&r.YNc(0,h,2,2,"ng-container",0),2&d&&r.Q6J("ngIf",I.show)},dependencies:[p.O5,i.pW],styles:["fuse-loading-bar{position:fixed;top:0;z-index:999;width:100%;height:6px}\n"],encapsulation:2}),S})()},1208:(v,f,o)=>{o.d(f,{c:()=>r});var u=o(4755),l=o(7081),e=o(2223);let r=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,l.Cv]}),s})()},646:(v,f,o)=>{o.d(f,{c:()=>r});var u=o(1135),l=o(2223),e=o(3144);let r=(()=>{class s{constructor(i){this._httpClient=i,this._auto$=new u.X(!0),this._mode$=new u.X("indeterminate"),this._progress$=new u.X(0),this._show$=new u.X(!1),this._urlMap=new Map}get auto$(){return this._auto$.asObservable()}get mode$(){return this._mode$.asObservable()}get progress$(){return this._progress$.asObservable()}get show$(){return this._show$.asObservable()}show(){this._show$.next(!0)}hide(){this._show$.next(!1)}setAutoMode(i){this._auto$.next(i)}setMode(i){this._mode$.next(i)}setProgress(i){i<0||i>100?console.error("Progress value must be between 0 and 100!"):this._progress$.next(i)}_setLoadingStatus(i,h){h?(!0===i?(this._urlMap.set(h,i),this._show$.next(!0)):!1===i&&this._urlMap.has(h)&&this._urlMap.delete(h),0===this._urlMap.size&&this._show$.next(!1)):console.error("The request URL must be provided!")}}return s.\u0275fac=function(i){return new(i||s)(l.LFG(e.eN))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},8236:(v,f,o)=>{o.d(f,{e:()=>E});var u=o(2843),l=o(3900),e=o(9646),r=o(262),s=o(2340),p=o(705),i=o(2223),h=o(3144),M=o(3469),S=o(4707),_=o(8505),d=o(4004);const x=s.N.user_key;let O=(()=>{class g{constructor(a){this._httpClient=a,this._user=new S.t(1)}set user(a){localStorage.setItem(x,JSON.stringify(a))}get user$(){let a=localStorage.getItem(x);return this._user.next(a?JSON.parse(a):""),this._user.asObservable()}get(){return this._httpClient.get("api/common/user").pipe((0,_.b)(a=>{this._user.next(a)}))}update(a){return this._httpClient.patch("api/common/user",{user:a}).pipe((0,d.U)(y=>{this._user.next(y)}))}}return g.\u0275fac=function(a){return new(a||g)(i.LFG(h.eN))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const C=s.N.apiUrl,T=s.N.user_key;let E=(()=>{class g{constructor(a,y,R){this._httpClient=a,this._cookieService=y,this._userService=R,this._authenticated=!1}set token(a){this._cookieService.set("access",a.access),this._cookieService.set("refresh",a.refresh)}forgotPassword(a){return this._httpClient.post("api/auth/forgot-password",a)}resetPassword(a){return this._httpClient.post("api/auth/reset-password",a)}signIn(a){return this._authenticated?(0,u._)(()=>new Error("User is already logged in.")):(console.log(`${C}/login`),this._httpClient.post(`${C}/login`,a).pipe((0,l.w)(y=>(this.token=y,this._authenticated=!0,this._userService.user=y.user,(0,e.of)(y)))))}signInUsingToken(){return this._httpClient.post(`${C}/token/refresh`,{refresh:this._cookieService.get("refresh")}).pipe((0,r.K)(()=>(0,e.of)(!1)),(0,l.w)(a=>(a.access&&(this.token=a),this._authenticated=!0,(0,e.of)(!0))))}signOut(){return localStorage.removeItem(T),this._cookieService.delete("access"),this._cookieService.delete("refresh"),this._authenticated=!1,(0,e.of)(!0)}signUp(a){return this._httpClient.post("api/auth/sign-up",a)}unlockSession(a){return this._httpClient.post("api/auth/unlock-session",a)}check(){return this._authenticated?(0,e.of)(!0):!this._cookieService.get("access")||p.l.isTokenExpired(this._cookieService.get("access"))?(0,e.of)(!1):this.signInUsingToken()}}return g.\u0275fac=function(a){return new(a||g)(i.LFG(h.eN),i.LFG(M.N),i.LFG(O))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac}),g})()},705:(v,f,o)=>{o.d(f,{l:()=>u});class u{constructor(){}static isTokenExpired(e,r){if(!e||""===e)return!0;const s=this._getTokenExpirationDate(e);return r=r||0,null===s||!(s.valueOf()>(new Date).valueOf()+1e3*r)}static _b64decode(e){let s="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let i,h,p=0,M=0;h=e.charAt(M++);~h&&(i=p%4?64*i+h:h,p++%4)?s+=String.fromCharCode(255&i>>(-2*p&6)):0)h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(h);return s}static _b64DecodeUnicode(e){return decodeURIComponent(Array.prototype.map.call(this._b64decode(e),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}static _urlBase64Decode(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw Error("Illegal base64url string!")}return this._b64DecodeUnicode(r)}static _decodeToken(e){if(!e)return null;const r=e.split(".");if(3!==r.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const s=this._urlBase64Decode(r[1]);if(!s)throw new Error("Cannot decode the token.");return JSON.parse(s)}static _getTokenExpirationDate(e){const r=this._decodeToken(e);if(!r.hasOwnProperty("exp"))return null;const s=new Date(0);return s.setUTCSeconds(r.exp),s}}},1511:(v,f,o)=>{o.d(f,{m:()=>r});var u=o(4755),l=o(9401),e=o(2223);let r=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,l.u5,l.UX,u.ez,l.u5,l.UX]}),s})()},2340:(v,f,o)=>{o.d(f,{N:()=>u});const u={production:!0,apiUrl:"api",user_key:"tx_nre",staticUrl:"static/ng/",mediaUrl:"media/"}},6709:(v,f,o)=>{var u=o(6550),l=o(7179),e=o(2223),r=o(3900),s=o(9646),p=o(8236),M=o(2085),S=o(4755);function _(t,c){1&t&&e._UZ(0,"router-outlet")}const I={preloadingStrategy:l.wm,scrollPositionRestoration:"enabled"},x=[{path:"",pathMatch:"full",redirectTo:"nre"},{path:"signed-in-redirect",pathMatch:"full",redirectTo:"nre"},{path:"",children:[{path:"sign-in",loadChildren:()=>o.e(457).then(o.bind(o,6457)).then(t=>t.SignInModule)}]},{path:"",canMatch:[(t,c)=>(t=>{const c=(0,e.f3M)(p.e),n=(0,e.f3M)(l.F0);return c.check().pipe((0,r.w)(m=>{if(!m){const U=`/${t.join("/")}`,L=n.parseUrl(`sign-in?redirectURL=${U}`);return(0,s.of)(L)}return(0,s.of)(!0)}))})(c)],component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-layout"]],decls:6,vars:1,consts:[[1,"flex","flex-col","flex-auto","w-full","min-w-0"],[4,"ngIf"]],template:function(n,m){1&n&&(e.TgZ(0,"p"),e._uU(1,"layout works!"),e.qZA(),e._UZ(2,"fuse-loading-bar"),e.TgZ(3,"div",0),e._uU(4," 123 "),e.YNc(5,_,1,0,"router-outlet",1),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",!0))},dependencies:[l.lC,M.n,S.O5],styles:["layout{display:flex;flex:1 1 auto;width:100%;max-width:100%;min-width:0}layout>*{position:relative;display:flex;flex:1 1 auto;width:100%}layout router-outlet+*{position:relative;display:flex;flex:1 1 auto;width:100%}\n"],encapsulation:2}),t})(),children:[{path:"nre",loadChildren:()=>o.e(573).then(o.bind(o,2573)).then(t=>t.NreModule)},{path:"404",pathMatch:"full",loadChildren:()=>o.e(527).then(o.bind(o,3527)).then(t=>t.Error404Module)},{path:"**",redirectTo:"404"}]}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forRoot(x,I),l.Bz]}),t})(),C=(()=>{class t{constructor(){this.title="client"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,m){1&n&&e._UZ(0,"router-outlet")},dependencies:[l.lC],styles:["svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}"]}),t})();var T=o(4275),E=o(3144),g=o(262),A=o(2843),a=o(705),y=o(3469);let R=(()=>{class t{constructor(n,m){this._cookieService=n,this._authService=m}intercept(n,m){console.log("auth.interceptor\u2026");let U=n.clone();return this._cookieService.get("access")&&!a.l.isTokenExpired(this._cookieService.get("access"))&&(U=n.clone({headers:n.headers.set("Authorization",`Bearer ${this._cookieService.get("access")}`)})),m.handle(U).pipe((0,g.K)(L=>(L instanceof E.UA&&401===L.status&&(this._authService.signOut(),L.url.includes("api/login")||location.reload()),(0,A._)(()=>L))))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(y.N),e.LFG(p.e))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.e,{provide:E.TP,useClass:R,multi:!0}],imports:[E.JF]}),t})();var D=o(430);let P=(()=>{class t{constructor(n,m){this._domSanitizer=n,this._matIconRegistry=m,this._matIconRegistry.addSvgIconSet(this._domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/material-twotone.svg")),this._matIconRegistry.addSvgIconSetInNamespace("mat_outline",this._domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/material-outline.svg")),this._matIconRegistry.addSvgIconSetInNamespace("mat_solid",this._domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/material-solid.svg")),this._matIconRegistry.addSvgIconSetInNamespace("feather",this._domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/feather.svg")),this._matIconRegistry.addSvgIconSetInNamespace("heroicons_outline",this._domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/heroicons-outline.svg")),this._matIconRegistry.addSvgIconSetInNamespace("heroicons_solid",this._domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/heroicons-solid.svg"))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(u.H7),e.LFG(D.jv))},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();var B=o(8746),w=o(646);let $=(()=>{class t{constructor(n){this._fuseLoadingService=n,this._fuseLoadingService.auto$.subscribe(m=>{this.handleRequestsAutomatically=m})}intercept(n,m){return this.handleRequestsAutomatically?(console.log("--\x3eloading.intercept"),this._fuseLoadingService._setLoadingStatus(!0,n.url),m.handle(n).pipe((0,B.x)(()=>{this._fuseLoadingService._setLoadingStatus(!1,n.url)}))):m.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(w.c))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[{provide:E.TP,useClass:$,multi:!0}]}),t})(),z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[F,b,P]}),t})();var N=o(1511),K=o(1208);let W=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz,K.c,N.m]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t,bootstrap:[C]}),t.\u0275inj=e.cJS({imports:[u.b2,T.PW,O,z,W]}),t})();u.q6().bootstrapModule(j).catch(t=>console.error(t))}},v=>{v.O(0,[736],()=>v(v.s=6709)),v.O()}]);